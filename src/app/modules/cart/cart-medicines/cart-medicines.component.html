<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Cart</ion-title>
    <!-- <ion-buttons slot="end">
      <ion-button>
        <ion-icon name="cart"></ion-icon>
        {{ storename }}
      </ion-button>
      <ion-button>
        <ion-icon name="person"></ion-icon>
      </ion-button>
    </ion-buttons> -->
  </ion-toolbar>
</ion-header>

<h5 style="text-align: center">
  Shopping from <span style="font-style: italic">"{{ storename }}"</span>
  <ion-icon name="cart"></ion-icon>{{ counter }}
</h5>
<ion-item>
  <ion-searchbar
    color="medium"
    placeholder="Search by store name or address"
    (keyup)="onKeyUp($event)"
  ></ion-searchbar>
</ion-item>
<ion-list-header>
  Category:
  <ion-select value="all" (ionChange)="onSelect($event)">
    <ion-select-option value="all">All</ion-select-option>
    <ion-select-option value="tablet">Tablet</ion-select-option>
    <ion-select-option value="capsul">Capsule</ion-select-option>
    <ion-select-option value="syrup">Syrup</ion-select-option>
    <ion-select-option value="injection">Injection</ion-select-option>
    <ion-select-option value="tube">Tube</ion-select-option>
    <ion-select-option value="others">Others</ion-select-option>
  </ion-select>
</ion-list-header>
<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col size="12" size-md="6" size-lg="8" offset-md="2">
        <div *ngIf="counter !== 0">
          <ion-list *ngFor="let cart of cart">
            <div *ngIf="cart.format === onselect || onselect === 'all'">
              <ion-item lines="none">
                <!-- <h2>{{ cart.name }}</h2> -->
              </ion-item>

              <ion-item>
                <ion-label>
                  <!-- <img
                    style="width: 100px; height: 100px"
                    src="assets/images/MartialKing.PNG"
                  /> -->
                  <img
                  style="width: 100px; height: 100px;border: 1px solid black; border-radius: 5px;"
                  [src]="cart.image"
                />
                </ion-label>
                <ion-label>
                  <!-- <p>{{ cart._id }}</p>  -->
                  <h2>{{ cart.medicinename }}</h2>
                  <!-- <p>{{ cart.formula }}</p> -->
                  <p>{{ cart.format }}</p>
                  <p>{{ cart.ingredients }}mg</p>
                  <!-- <p>Rs.{{ cart.price }}</p> -->
                  <p>qty:{{ cart.quantity }}</p>
                </ion-label>
                <ion-buttons slot="end">
                  <ion-button
                    (click)="addQuantity(cart._id, cart.medicinename)"
                  >
                    <ion-icon name="create"></ion-icon>
                  </ion-button>
                  <!-- (click)="cartMedicines(cart._id)" -->
                  <ion-button
                    (click)="removeAlert(cart._id, cart.medicinename)"
                  >
                    <ion-icon name="trash"></ion-icon>
                  </ion-button>
                </ion-buttons>
              </ion-item>
            </div>
          </ion-list>
        </div>

        <div *ngIf="counter === 0" style="text-align: center; font: bold">
          <p>OOPs, Your Cart Is Empty!</p>
          <ion-button (click)="navigateToMedicines()">
            <ion-icon name="add"></ion-icon>
            Cart
          </ion-button>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
<!-- BUTTON -->
    <!-- <ion-col size="12" size-md="6" size-lg="6" > -->
      <ion-button *ngIf="counter !== 0" (click)="checkout(storeId, cart)">
        <ion-icon name="arrow-up"></ion-icon>
        Check Out
      </ion-button>
    <!-- </ion-col> -->
